<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Para Stefany ðŸ’œ</title>

<style>
*{box-sizing:border-box}

body{
margin:0;
padding:20px;
min-height:100vh;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
text-align:center;
font-family:Arial,sans-serif;
color:white;
overflow:hidden;
background:
radial-gradient(circle at 20% 30%, #ffffff33, transparent 25%),
radial-gradient(circle at 80% 40%, #ffffff22, transparent 20%),
radial-gradient(circle at 50% 70%, #ffffff18, transparent 30%),
linear-gradient(135deg,#0f0c29,#302b63,#24243e);
background-size:200% 200%;
animation:galaxyMove 15s ease infinite;
transition:background 4s ease;
}

body.night{
background:
radial-gradient(circle at 30% 40%, #ffffff22, transparent 25%),
linear-gradient(135deg,#020024,#090979,#000);
}

@keyframes galaxyMove{
0%{background-position:0% 50%}
50%{background-position:100% 50%}
100%{background-position:0% 50%}
}

/* CANVAS */
canvas{
position:absolute;
top:0;left:0;
width:100%;height:100%;
z-index:-1;
}

/* TEXTO */
.name{
font-size:clamp(32px,6vw,46px);
font-weight:bold;
animation:fadeIn 2s ease;
}

.message{
margin-top:15px;
padding:20px;
background:rgba(255,255,255,0.15);
border-radius:15px;
font-size:clamp(18px,4vw,24px);
backdrop-filter:blur(10px);
animation:float 3s infinite;
}

@keyframes float{
0%,100%{transform:translateY(0)}
50%{transform:translateY(-8px)}
}

#countdown{margin-top:12px}

.love-text{
margin-top:12px;
font-size:28px;
color:#f9a8d4;
font-weight:bold;
}

/* CARTA */
.letter-container{
margin-top:20px;
perspective:1000px;
cursor:pointer;
}
.letter{
width:220px;height:140px;
transition:transform 1s;
transform-style:preserve-3d;
}
.letter.open{transform:rotateY(180deg)}
.letter div{
position:absolute;
width:100%;height:100%;
display:flex;
align-items:center;
justify-content:center;
border-radius:14px;
background:rgba(255,255,255,0.15);
backdrop-filter:blur(10px);
backface-visibility:hidden;
}
.letter-back{
transform:rotateY(180deg);
padding:15px;
font-size:14px;
}

/* BOTÃ“N */
.music-btn{
margin-top:20px;
padding:12px 22px;
border:none;
border-radius:25px;
background:#ec4899;
color:white;
font-size:16px;
}

/* MENSAJES SECRETOS */
.secret{
position:absolute;
color:#fbcfe8;
font-size:18px;
animation:fadeSecret 2s forwards;
pointer-events:none;
}
@keyframes fadeSecret{
0%{opacity:0;transform:translateY(10px)}
30%{opacity:1}
100%{opacity:0;transform:translateY(-30px)}
}

/* CORAZONES */
@keyframes floatUp{
from{transform:translateY(0);opacity:1}
to{transform:translateY(-120vh);opacity:0}
}
</style>
</head>

<body>

<canvas id="stars"></canvas>

<div class="name">Stefany ðŸ’œ</div>
<div class="message">Eres mi lugar seguro ðŸ«¶</div>
<div id="countdown">La sorpresa comienza en: 10</div>
<div id="loveText" class="love-text"></div>

<div class="letter-container" onclick="openLetter()">
<div class="letter">
<div>ðŸ’Œ</div>
<div class="letter-back">
Gracias por ser mi lugar seguro ðŸ’œ
</div>
</div>
</div>

<button class="music-btn" onclick="playMusic()">ðŸ’œ Reproducir nuestra canciÃ³n ðŸ’œ</button>

<audio id="loveSong" preload="auto" loop>
<source src="cancion.mp3" type="audio/mpeg">
</audio>

<script>
/* ESTRELLAS + CONSTELACIÃ“N */
const canvas=document.getElementById("stars");
const ctx=canvas.getContext("2d");
function resize(){
canvas.width=innerWidth;
canvas.height=innerHeight;
}
resize();onresize=resize;

let stars=[];
for(let i=0;i<120;i++){
stars.push({
x:Math.random()*canvas.width,
y:Math.random()*canvas.height,
r:Math.random()*1.5+0.5
});
}

function drawStars(){
ctx.clearRect(0,0,canvas.width,canvas.height);
ctx.fillStyle="white";
stars.forEach(s=>{
ctx.beginPath();
ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
ctx.fill();
});
drawConstellation();
requestAnimationFrame(drawStars);
}
drawStars();

function drawConstellation(){
const text="STEFANY";
ctx.font="18px Arial";
ctx.fillStyle="#f9a8d4";
ctx.fillText(text,canvas.width/2-60,canvas.height/2);
}

/* FRASES */
const phrases=[
"Eres mi lugar seguro ðŸ«¶",
"Contigo todo es paz ðŸŒ™",
"Siempre pienso en ti ðŸ’­"
];
setInterval(()=>{
document.querySelector(".message").innerText=
phrases[Math.floor(Math.random()*phrases.length)];
},4000);

/* MENSAJES SECRETOS */
const secrets=[
"Siempre contigo ðŸ’œ",
"Eres hogar",
"Mi persona favorita",
"No te suelto"
];
document.body.addEventListener("click",e=>{
const s=document.createElement("div");
s.className="secret";
s.innerText=secrets[Math.floor(Math.random()*secrets.length)];
s.style.left=e.clientX+"px";
s.style.top=e.clientY+"px";
document.body.appendChild(s);
setTimeout(()=>s.remove(),2000);
});

/* CONTADOR + NOCHE */
let t=10;
const cd=document.getElementById("countdown");
const timer=setInterval(()=>{
t--;
cd.innerText="La sorpresa comienza en: "+t;
if(t<=0){
clearInterval(timer);
cd.innerText="ðŸ’œ Siempre serÃ¡s mi lugar seguro ðŸ’œ";
typeLove();
setTimeout(()=>document.body.classList.add("night"),30000);
}
},1000);

/* TE AMO */
const text="Te amo ðŸ’œ";
let i=0;
function typeLove(){
if(i<text.length){
loveText.innerHTML+=text.charAt(i++);
setTimeout(typeLove,180);
}
}

/* CARTA */
function openLetter(){
document.querySelector(".letter").classList.toggle("open");
}

/* MÃšSICA */
const song=document.getElementById("loveSong");
let playing=false;
function playMusic(){
if(!playing){
song.play().then(()=>playing=true)
.catch(()=>alert("Toca de nuevo ðŸ’œ"));
}else{
song.pause();playing=false;
}
}

/* DESBLOQUEO AUDIO */
document.body.addEventListener("touchstart",()=>{
song.play().then(()=>song.pause());
},{once:true});

/* FINAL CINEMATOGRÃFICO */
window.addEventListener("beforeunload",e=>{
e.preventDefault();
e.returnValue="Gracias por sentir esto conmigo ðŸ’œ";
});
</script>

</body>
</html>

